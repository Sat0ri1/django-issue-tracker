{% extends "base.html" %}
{% load widget_tweaks %}
{% load i18n %}

{% block title %}{% trans "Registration" %}{% endblock %}

{% block content %}
<div class="text-center mb-8">
  <h1 class="text-4xl font-bold text-gray-800 mb-2 tracking-wide">{% trans "REGISTER" %}</h1>
  <div class="w-20 h-1 bg-gradient-to-r from-gray-600 to-gray-400 mx-auto rounded-full"></div>
</div>

<div class="max-w-md mx-auto bg-gray-700 rounded-lg shadow-xl p-8">
  <form method="post" class="space-y-6">
    {% csrf_token %}
    
    <!-- Username field -->
    {% with username_placeholder=_("Enter your username") %}
    <div class="form-control">
      <label class="label">
        <span class="label-text text-white font-medium">{{ form.username.label }}</span>
      </label>
      {% render_field form.username class="input input-bordered w-full bg-gray-600 text-white border-gray-500 focus:border-gray-400 focus:ring-2 focus:ring-gray-400" placeholder=username_placeholder data-testid="register-username" %}
      {% if form.username.errors %}
        <label class="label">
          <span class="label-text-alt text-red-400">{{ form.username.errors.0 }}</span>
        </label>
      {% endif %}
    </div>
    {% endwith %}

    <!-- Email field -->
    {% with email_placeholder=_("Enter your email") %}
    <div class="form-control">
      <label class="label">
        <span class="label-text text-white font-medium">{{ form.email.label }}</span>
      </label>
      {% render_field form.email class="input input-bordered w-full bg-gray-600 text-white border-gray-500 focus:border-gray-400 focus:ring-2 focus:ring-gray-400" placeholder=email_placeholder data-testid="register-email" %}
      {% if form.email.errors %}
        <label class="label">
          <span class="label-text-alt text-red-400">{{ form.email.errors.0 }}</span>
        </label>
      {% endif %}
    </div>
    {% endwith %}

    <!-- Password field -->
    {% with password1_placeholder=_("Enter your password") %}
    <div class="form-control">
      <label class="label">
        <span class="label-text text-white font-medium">{{ form.password1.label }}</span>
      </label>
      {% render_field form.password1 class="input input-bordered w-full bg-gray-600 text-white border-gray-500 focus:border-gray-400 focus:ring-2 focus:ring-gray-400" placeholder=password1_placeholder data-testid="register-password1" %}
      {% if form.password1.errors %}
        <label class="label">
          <span class="label-text-alt text-red-400">{{ form.password1.errors.0 }}</span>
        </label>
      {% endif %}
    </div>
    {% endwith %}

    <!-- Confirm Password field -->
    {% with password2_placeholder=_("Confirm your password") %}
    <div class="form-control">
      <label class="label">
        <span class="label-text text-white font-medium">{{ form.password2.label }}</span>
      </label>
      {% render_field form.password2 class="input input-bordered w-full bg-gray-600 text-white border-gray-500 focus:border-gray-400 focus:ring-2 focus:ring-gray-400" placeholder=password2_placeholder data-testid="register-password2" %}
      {% if form.password2.errors %}
        <label class="label">
          <span class="label-text-alt text-red-400">{{ form.password2.errors.0 }}</span>
        </label>
      {% endif %}
    </div>
    {% endwith %}

    <!-- Submit button -->
    <button type="submit" class="btn bg-gray-200 text-gray-700 border-none rounded-lg shadow-md hover:bg-gray-300 hover:shadow-lg transition-all duration-300 ease-out transform hover:-translate-y-0.5 w-full px-6 mt-6" data-testid="register-submit">
      <svg xmlns="http://www.w3.org/2000/svg" class="inline-block w-4 h-4 mr-1.5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z" />
      </svg>
      {% trans "Register" %}
    </button>
  </form>

  <!-- Login link -->
  <div class="text-center mt-6 pt-6 border-t border-gray-600">
    <p class="text-white/70 text-sm mb-2">{% trans "Already have an account?" %}</p>
    <a href="{% url 'login' %}" class="btn bg-gray-200 text-gray-700 border-none rounded-lg shadow-md hover:bg-gray-300 hover:shadow-lg transition-all duration-300 ease-out transform hover:-translate-y-0.5 px-6" data-testid="login-link">
      <svg xmlns="http://www.w3.org/2000/svg" class="inline-block w-4 h-4 mr-1.5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3v1" />
      </svg>
      {% trans "Log in" %}
    </a>
  </div>

  <!-- Errors -->
  {% if form.non_field_errors %}
    <div class="alert alert-error mt-4">
      {% for error in form.non_field_errors %}
        <span>{{ error }}</span>
      {% endfor %}
    </div>
  {% endif %}
</div>
{% endblock %}
